ALTER TABLE "dbo"."Traitements" DROP CONSTRAINT IF EXISTS "FK_dbo.Traitements_dbo.Medecins_MedecinId"
;

DROP INDEX IF EXISTS dbo."Traitements_IX_MedecinId"
;

ALTER TABLE "dbo"."Traitements" RENAME COLUMN "MedecinId" TO "MedecinTraitant_Id"
;

ALTER TABLE "dbo"."Traitements" ADD "MedecinRecommandant_Id" int4
;

ALTER TABLE "dbo"."Traitements" ALTER COLUMN "MedecinTraitant_Id" TYPE int4
;

ALTER TABLE "dbo"."Traitements" ALTER COLUMN "MedecinTraitant_Id" DROP NOT NULL
;

ALTER TABLE "dbo"."Traitements" ALTER COLUMN "MedecinTraitant_Id" DROP DEFAULT
;

CREATE INDEX "Traitements_IX_MedecinTraitant_Id" ON "dbo"."Traitements" ("MedecinTraitant_Id")
;

CREATE INDEX "Traitements_IX_MedecinRecommandant_Id" ON "dbo"."Traitements" ("MedecinRecommandant_Id")
;

ALTER TABLE "dbo"."Traitements" ADD CONSTRAINT "FK_dbo.Traitements_dbo.Medecins_MedecinRecommandant_Id" FOREIGN KEY ("MedecinRecommandant_Id") REFERENCES "dbo"."Medecins" ("Id")
;

ALTER TABLE "dbo"."Traitements" ADD CONSTRAINT "FK_dbo.Traitements_dbo.Medecins_MedecinTraitant_Id" FOREIGN KEY ("MedecinTraitant_Id") REFERENCES "dbo"."Medecins" ("Id")
;

INSERT INTO "dbo"."__MigrationHistory"("MigrationId","ContextKey","Model","ProductVersion") VALUES (E'201601181300183_MiseAjourRelationMedecinTraitement',E'Optica.Migrations.Configuration',decode('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', 'base64'),E'6.1.3-40302')
;

ALTER TABLE "dbo"."Traitements" DROP CONSTRAINT IF EXISTS "FK_dbo.Traitements_dbo.Medecins_MedecinRecommandant_Id"
;

ALTER TABLE "dbo"."Traitements" DROP CONSTRAINT IF EXISTS "FK_dbo.Traitements_dbo.Medecins_MedecinTraitant_Id"
;

DROP INDEX IF EXISTS dbo."Traitements_IX_MedecinTraitant_Id"
;

DROP INDEX IF EXISTS dbo."Traitements_IX_MedecinRecommandant_Id"
;

ALTER TABLE "dbo"."Traitements" RENAME COLUMN "MedecinRecommandant_Id" TO "MedecinRecommandantId"
;

ALTER TABLE "dbo"."Traitements" RENAME COLUMN "MedecinTraitant_Id" TO "MedecinTraitantId"
;

ALTER TABLE "dbo"."Traitements" ALTER COLUMN "MedecinTraitantId" TYPE int4
;

ALTER TABLE "dbo"."Traitements" ALTER COLUMN "MedecinTraitantId" SET NOT NULL
;

ALTER TABLE "dbo"."Traitements" ALTER COLUMN "MedecinTraitantId" DROP DEFAULT
;

ALTER TABLE "dbo"."Traitements" ALTER COLUMN "MedecinRecommandantId" TYPE int4
;

ALTER TABLE "dbo"."Traitements" ALTER COLUMN "MedecinRecommandantId" SET NOT NULL
;

ALTER TABLE "dbo"."Traitements" ALTER COLUMN "MedecinRecommandantId" DROP DEFAULT
;

CREATE INDEX "Traitements_IX_MedecinTraitantId" ON "dbo"."Traitements" ("MedecinTraitantId")
;

CREATE INDEX "Traitements_IX_MedecinRecommandantId" ON "dbo"."Traitements" ("MedecinRecommandantId")
;

ALTER TABLE "dbo"."Traitements" ADD CONSTRAINT "FK_dbo.Traitements_dbo.Medecins_MedecinRecommandantId" FOREIGN KEY ("MedecinRecommandantId") REFERENCES "dbo"."Medecins" ("Id") ON DELETE CASCADE
;

ALTER TABLE "dbo"."Traitements" ADD CONSTRAINT "FK_dbo.Traitements_dbo.Medecins_MedecinTraitantId" FOREIGN KEY ("MedecinTraitantId") REFERENCES "dbo"."Medecins" ("Id") ON DELETE CASCADE
;

INSERT INTO "dbo"."__MigrationHistory"("MigrationId","ContextKey","Model","ProductVersion") VALUES (E'201601191240491_MiseAjourRelationMedecinTraitement1',E'Optica.Migrations.Configuration',decode('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', 'base64'),E'6.1.3-40302')
;

ALTER TABLE "dbo"."Traitements" DROP CONSTRAINT IF EXISTS "FK_dbo.Traitements_dbo.Medecins_MedecinRecommandantId"
;

DROP INDEX IF EXISTS dbo."Traitements_IX_MedecinRecommandantId"
;

ALTER TABLE "dbo"."Patients" ADD "Titre" int4 NOT NULL DEFAULT 0
;

ALTER TABLE "dbo"."Traitements" ALTER COLUMN "MedecinRecommandantId" TYPE int4
;

ALTER TABLE "dbo"."Traitements" ALTER COLUMN "MedecinRecommandantId" DROP NOT NULL
;

ALTER TABLE "dbo"."Traitements" ALTER COLUMN "MedecinRecommandantId" DROP DEFAULT
;

CREATE INDEX "Traitements_IX_MedecinRecommandantId" ON "dbo"."Traitements" ("MedecinRecommandantId")
;

ALTER TABLE "dbo"."Traitements" ADD CONSTRAINT "FK_dbo.Traitements_dbo.Medecins_MedecinRecommandantId" FOREIGN KEY ("MedecinRecommandantId") REFERENCES "dbo"."Medecins" ("Id")
;

INSERT INTO "dbo"."__MigrationHistory"("MigrationId","ContextKey","Model","ProductVersion") VALUES (E'201601191439275_MiseAjourAddColummnTitreToPatient',E'Optica.Migrations.Configuration',decode('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', 'base64'),E'6.1.3-40302')
